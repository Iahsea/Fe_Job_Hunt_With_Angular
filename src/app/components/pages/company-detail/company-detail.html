<div class="company-detail-card"
     *ngIf="company$ | async as c">

    <!-- Breadcrumb -->
    <nav class="breadcrumb">
        <a mat-button
           color="primary"
           routerLink="/">
            <mat-icon>home</mat-icon>
            Danh s√°ch C√¥ng ty
        </a>
        <mat-icon class="separator">chevron_right</mat-icon>
        <span class="current">Th√¥ng tin c√¥ng ty & tin tuy·ªÉn d·ª•ng t·ª´ {{ c.name }}</span>
    </nav>

    <!-- Banner -->
    <div class="banner">
        <img src=""
             alt="Company Banner" />
    </div>

    <!-- Card th√¥ng tin c√¥ng ty -->
    <mat-card class="company-info">
        <div class="company-header">
            <!-- Logo -->
            <img class="company-logo"
                 [src]="c.logo"
                 alt="{{ c.name }}" />

            <!-- Meta -->
            <div class="company-meta">
                <h2 class="company-name">{{ c.name }}</h2>
                <div class="company-submeta">
                    <span class="badge">Pro Company</span>
                </div>
            </div>

            <!-- Follow button -->
            <button mat-raised-button
                    color="primary"
                    class="follow-btn">
                <mat-icon class="plus-icon">add</mat-icon>
                Theo d√µi c√¥ng ty
            </button>
        </div>
    </mat-card>

    <!-- N·ªôi dung ch√≠nh -->
    <div class="company-content">
        <!-- Gi·ªõi thi·ªáu -->
        <mat-card class="company-description">
            <div class="card-header">Gi·ªõi thi·ªáu c√¥ng ty</div>
            <div class="card-body">
                <p>
                    {{ isExpanded ? c.description : (c.description | slice:0:250) +
                    (c.description.length > 250 ? '...' : '') }}
                </p>
                <a *ngIf="c.description.length > 250"
                   class="toggle-link"
                   (click)="toggleExpand()">
                    {{ isExpanded ? 'Thu g·ªçn ‚ñ≤' : 'Xem th√™m ‚ñº' }}
                </a>
            </div>
        </mat-card>

        <!-- Th√¥ng tin li√™n h·ªá -->
        <mat-card class="company-contact">
            <div class="card-header">Th√¥ng tin li√™n h·ªá</div>
            <div class="card-body">
                <p><strong>üìç ƒê·ªãa ch·ªâ:</strong> {{ c.address || 'Ch∆∞a c·∫≠p nh·∫≠t' }}</p>
                <div class="map">
                    <img src=""
                         alt="Google Map" />
                </div>
            </div>
        </mat-card>

        <!-- Danh s√°ch Job -->
        <mat-card class="job-list">
            <div class="card-header">Tuy·ªÉn d·ª•ng</div>
            <div class="card-body">

                <!-- Filter v·ªõi Expansion Panel -->
                <mat-expansion-panel class="filter-panel"
                                     hideToggle="false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            üîé T√¨m ki·∫øm c√¥ng vi·ªác
                        </mat-panel-title>
                    </mat-expansion-panel-header>

                    <app-filter [filter]="filter"
                                [fields]="filterConfig"
                                (apply)="applyFilter($event)">
                    </app-filter>
                </mat-expansion-panel>

                <!-- Job Items -->
                <div class="job-item"
                     *ngFor="let job of job$ | async">
                    <img class="job-logo"
                         [src]="job.logoJob"
                         alt="logojob" />

                    <div class="job-info">
                        <div class="job-title">
                            <span class="badge-top">TOP</span>
                            <span class="job-name">{{ job.name }}</span>
                            <mat-icon class="verify">check_circle</mat-icon>
                        </div>

                        <div class="company-name">
                            <span class="badge-pro">Pro</span>
                            {{ job.company.name }}
                        </div>

                        <div class="job-meta">
                            <span class="location"><mat-icon>location_on</mat-icon> {{ job.location }}</span>
                            <span class="deadline"><mat-icon>schedule</mat-icon> {{ job.endDate | date }}</span>
                        </div>
                    </div>

                    <div class="job-right">
                        <div class="salary">{{ job.salary | number }} VND</div>
                        <button mat-raised-button
                                color="primary">·ª®ng tuy·ªÉn</button>
                    </div>
                </div>

            </div>

            <!-- Paginator -->
            <app-pagination [length]="pagination.totalItems"
                            [pageSize]="pagination.pageSize"
                            [pageIndex]="pagination.current"
                            [pageSizeOptions]="[3, 9, 18, 27]"
                            (pageChange)="onPageChange($event)">
            </app-pagination>
        </mat-card>

    </div>

</div>